/*!
 * xe-ajax.js v3.1.7
 * (c) 2017-2018 Xu Liangzhan
 * ISC License.
 */
(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?module.exports=a():typeof define==="function"&&define.amd?define(a):(b.XEAjax=a())}(this,function(){var L=Array.isArray||function(au){return au?au.constructor===Array:false};function z(au){return typeof FormData!=="undefined"&&au instanceof FormData}function G(au){if(/(\w+:)\/{2}((.*?)\/|(.*)$)/.test(au.url)){if(RegExp.$1!==location.protocol||RegExp.$2.split("/")[0]!==location.host){return true}}return false}function aa(au){return au&&typeof au==="object"}function y(au){return typeof au==="function"}function e(){return location.origin||(location.protocol+"//"+location.host)}function x(){var au=location.pathname;var av=W(au,"/")+1;return e()+(av===au.length?au:au.substring(0,av))}function W(aw,av){if(y(aw.lastIndexOf)){return aw.lastIndexOf(av)}else{for(var au=aw.length-1;au>=0;au--){if(av===aw[au]){return au}}}return -1}function E(aw,ax,av){for(var au in aw){if(aw.hasOwnProperty(au)){ax.call(av,aw[au],au,aw)}}}function ah(av,ax,aw){var au=[];E(av,function(az,ay){if(aa(az)){au=au.concat(ah(az,ax+"["+ay+"]",L(az)))}else{au.push(encodeURIComponent(ax+"["+(aw?"":ay)+"]")+"="+encodeURIComponent(az))}});return au}function i(au){var av=[];E(au,function(ax,aw){if(ax!==undefined){if(aa(ax)){av=av.concat(ah(ax,aw,L(ax)))}else{av.push(encodeURIComponent(aw)+"="+encodeURIComponent(ax))}}});return av.join("&").replace(/%20/g,"+")}var d=Object.assign||function(ay){for(var ax,av=1,au=arguments.length;av<au;av++){ax=arguments[av];for(var aw in ax){if(ax.hasOwnProperty(aw)){ay[aw]=ax[aw]}}}return ay};function m(ay,ax,aw){if(ay.forEach){ay.forEach(ax,aw)}else{for(var av=0,au=ay.length||0;av<au;av++){ax.call(aw||c,ay[av],av,ay)}}}function an(au){au.$context=au.$Promise=null}function ao(au){return String(au).toLowerCase()}function h(ax,ay){var au=[];for(var av in ax){if(ax.hasOwnProperty(av)){var aw=ax[av];au.push([av,aw.join(", "),[av,aw.join(", ")]][ay])}}return au}function A(av,aw){var au=av.$index++>=av.$list.length;return{done:au,value:au?undefined:aw}}function Q(au){this.$index=0;this.$list=au;this.next=function(){return A(this,this.$list[this.$index])}}var S=typeof Headers==="function"?Headers:function(av){var au={};this.set=function(aw,ax){au[ao(aw)]=[ax]};this.get=function(aw){var ax=ao(aw);return this.has(ax)?au[ax].join(", "):null};this.append=function(aw,ay){var ax=ao(aw);if(this.has(ax)){return au[ax].push(ay)}else{this.set(ax,ay)}};this.has=function(aw){return !!au[ao(aw)]};this.keys=function(){return new Q(h(au,0))};this.values=function(){return new Q(h(au,1))};this.entries=function(){return new Q(h(au,2))};this["delete"]=function(aw){delete au[ao(aw)]};this.forEach=function(ax,aw){E(au,function(aA,ay,az){ax.call(aw,aA.join(", "),ay,this)},this)};if(av instanceof S){av.forEach(function(ax,aw){this.set(aw,ax)},this)}else{E(av,function(ax,aw){this.set(aw,ax)},this)}};var o=[];function P(aw){for(var av=0,au=o.length;av<au;av++){if(aw===o[av][0]){return av}}}function O(av){if(av.signal){var au=P(av.signal);if(au===undefined){o.push([av.signal,[av]])}else{o[au][1].push(av)}}}function X(){}function J(){this.signal=new X()}d(J.prototype,{abort:function(){var au=P(this.signal);if(au!==undefined){m(o[au][1],function(av){setTimeout(function(){av.abort()})});o.splice(au,1)}}});var at={request:[],response:[]};function Y(au){return function(av){if(au.indexOf(av)===-1){au.push(av)}}}function b(au){try{var av=JSON.stringify(au.body)}catch(aw){av=""}this.status=au.status;this.responseHeaders=au.headers;this.response=av;this.responseText=av}d(b.prototype,{getAllResponseHeaders:function(){var au="";var aw=this.responseHeaders;if(aw){for(var av in aw){if(aw.hasOwnProperty(av)){au+=av+": "+aw[av]+"\n"}}}return au}});function F(au){var aw=au.$Promise||Promise;var av=aw.resolve(au,au.$context);m(at.request,function(ax){av=av.then(function(ay){return new aw(function(az){ax(ay,function(){az(ay)})},au.$context)}).catch(function(ay){console.error(ay)})});return av}function B(av,au){var ax=av.$Promise||Promise;var aw=ax.resolve(au,av.$context);m(at.response,function(ay){aw=aw.then(function(az){return new ax(function(aA){ay(az,function(aB){if(aB&&aB.constructor!==ab){aA(new ab(av,new b(aB)))}else{aA(az)}})},av.$context)}).catch(function(az){console.error(az)})});return aw}var Z={request:{use:Y(at.request)},response:{use:Y(at.response)}};Z.request.use(function(av,au){if(!z(av.method==="GET"?av.params:av.body)){if(av.method!=="GET"&&String(av.bodyType).toLocaleUpperCase()==="JSON_DATA"){av.headers.set("Content-Type","application/json; charset=utf-8")}else{av.headers.set("Content-Type","application/x-www-form-urlencoded")}}if(av.crossOrigin){av.headers.set("X-Requested-With","XMLHttpRequest")}au()});function ar(au){d(this,{url:"",body:null,params:null,signal:null},au);this.headers=new S(au.headers);this.method=String(this.method).toLocaleUpperCase();this.crossOrigin=G(this);if(this.jsonp){this.script=document.createElement("script")
}else{this.xhr=y(this.getXMLHttpRequest)?this.getXMLHttpRequest(this):new XMLHttpRequest()}O(this)}d(ar.prototype,{abort:function(au){this.xhr.abort(au)},getUrl:function(){var au=this.url;var av="";if(au){if(y(this.transformParams)){this.params=this.transformParams(this.params||{},this)}if(this.params&&!z(this.params)){av=y(this.paramsSerializer)?this.paramsSerializer(this.params,this):i(this.params)}if(av){au+=(au.indexOf("?")===-1?"?":"&")+av}if(/\w+:\/{2}.*/.test(au)){return au}if(au.indexOf("/")===0){return e()+au}return this.baseURL.replace(/\/$/,"")+"/"+au}return au},getBody:function(){var au=this;var av=au.$Promise||Promise;return new av(function(ay,ax){var aw=null;if(au.body&&au.method!=="GET"){try{if(y(au.transformBody)){au.body=au.transformBody(au.body||{},au)||au.body}if(y(au.stringifyBody)){aw=au.stringifyBody(au.body,au)||null}else{if(z(au.body)){aw=au.body}else{if(String(au.bodyType).toLocaleUpperCase()==="FORM_DATA"){aw=i(au.body)}else{aw=JSON.stringify(au.body)}}}}catch(az){console.error(az)}}ay(aw)},au.$context)}});function t(av,au){this.locked=false;this._xhr=av;this._request=au}d(t.prototype,{_getBody:function(){var av=this;var ax=this._xhr;var au=this._request;var aw=au.$Promise||Promise;return new aw(function(aA,az){var ay={responseText:"",response:ax};if(ax&&ax.response!==undefined&&ax.status!==undefined){if(ax.responseText){ay.responseText=ax.responseText;try{ay.response=JSON.parse(ax.responseText)}catch(aB){ay.response=null}}else{ay.response=ax.response;ay.responseText=JSON.stringify(ax.response)}}else{ay.responseText=JSON.stringify(ay.response)}if(av.locked){az(new TypeError("body stream already read"))}else{av.locked=true;aA(ay)}},au.$context)}});function ab(aw,ay){var av=this;var au={};au.body=new t(ay,aw);au.bodyUsed=false;au.url=aw.url;au.headers=new S();au.status=0;au.statusText="";au.ok=false;au.redirected=false;au.type="basic";m(["body","bodyUsed","url","headers","status","statusText","ok","redirected","type"],function(az){Object.defineProperty(av,az,{get:function(){return au[az]}})});this.json=function(){return this.body._getBody().then(function(az){au.bodyUsed=true;return az.response})};this.text=function(){return au.body._getBody().then(function(az){au.bodyUsed=true;return az.responseText})};if(ay&&ay.response!==undefined&&ay.status!==undefined){au.status=ay.status;au.redirected=au.status===302;au.ok=aw.getPromiseStatus(this);if(au.status===1223||au.status===204){au.statusText="No Content"}else{if(au.status===304){au.statusText="Not Modified"}else{au.statusText=(ay.statusText||au.statusText).trim()}}if(ay.getAllResponseHeaders){var ax=ay.getAllResponseHeaders().trim();if(ax){m(ax.split("\n"),function(aA){var az=aA.indexOf(":");au.headers.set(aA.slice(0,az).trim(),aA.slice(az+1).trim())})}}}}var c=typeof window==="undefined"?this:window;var ag={method:"GET",baseURL:x(),async:true,credentials:"same-origin",bodyType:"JSON_DATA",headers:{Accept:"application/json, text/plain, */*;"},getPromiseStatus:function(au){return au.status>=200&&au.status<300}};function a(au){var av=d({},ag,{headers:d({},ag.headers)},au);var aw=av.$Promise||Promise;return new aw(function(ay,ax){return(av.jsonp?l:ae)(new ar(av),ay,ax)},av.$context)}function H(au,ax,aw,av){B(au,new ab(au,ax)).then(function(ay){aw(ay)})}function ae(au,aw,av){var ax=au.xhr;F(au).then(function(){ax.open(au.method,au.getUrl(),au.async!==false);if(au.timeout&&!isNaN(au.timeout)){ax.timeout=au.timeout}au.headers.forEach(function(az,ay){ax.setRequestHeader(ay,az)});ax.onreadystatechange=function(){if(ax.readyState===4){H(au,ax,aw,av)}};if(au.credentials==="include"){ax.withCredentials=true}else{if(au.credentials==="omit"){ax.withCredentials=false}}au.getBody().then(function(ay){ax.send(ay)}).catch(function(){ax.send()})})}var k=0;function l(aw,ay,ax){var au=aw.script;var av=aw.getUrl();if(!aw.jsonpCallback){aw.jsonpCallback="_xeajax_jsonp"+(++k)}c[aw.jsonpCallback]=function(az){p(aw,{status:200,response:az},ay,ax)};au.type="text/javascript";au.src=av+(av.indexOf("?")===-1?"?":"&")+aw.jsonp+"="+aw.jsonpCallback;au.onerror=function(az){p(aw,{status:500,response:null},ay,ax)};if(y(aw.sendJSONP)){aw.sendJSONP(au,aw,ay,ax)}else{document.body.appendChild(au)}}function p(av,ay,ax,aw){var au=new ab(av,ay);delete c[av.jsonpCallback];if(y(av.sendEndJSONP)){av.sendEndJSONP(av.script,av)}else{document.body.removeChild(av.script)}au.json().then(function(az){(au.ok?ax:aw)(az)}).catch(function(az){aw(az)})}var n=function n(au){d(ag,au)};function al(ax,aw,au){var av=d({method:ax,$context:a.$context,$Promise:a.$Promise},aw,au);an(a);return av}function aj(au){return function(){return U(au.apply(this,arguments))}}function aq(au){return function(){var av=au.apply(this,arguments);var aw=av.$Promise||Promise;return U(av).then(function(ax){return new aw(function(az,ay){ax.json().then(function(aA){(ax.ok?az:ay)(aA)}).catch(function(aA){ay(aA)})},this)})}}var U=a;function u(av){var aw=a.$Promise||Promise;var au=a.$context;an(a);return aw.all(av.map(function(ax){if(ax instanceof aw){return ax
}else{if(ax&&aa(ax)){return U(d({$context:au,$Promise:aw},ax))}}return ax}),au)}function ad(au,aw,av){return al("GET",aa(au)?{}:{url:au,params:aw},av)}function K(av,au,aw){return al("POST",aa(av)?{}:{url:av,body:au},aw)}function N(av,au,aw){return al("PUT",aa(av)?{}:{url:av,body:au},aw)}function r(av,au,aw){return al("DELETE",aa(av)?{}:{url:av,body:au},aw)}function T(av,au,aw){return al("PATCH",aa(av)?{}:{url:av,body:au},aw)}function D(av,au,aw){return al("HEAD",aa(av)?{}:{url:av,body:au},aw)}function s(au,aw,av){return a(al("GET",{url:au,params:aw,jsonp:"callback"},av))}var I=aj(D);var w=aj(ad);var M=aj(K);var f=aj(N);var v=aj(T);var j=aj(r);var q=aq(D);var ac=aq(ad);var af=aq(K);var g=aq(N);var C=aq(T);var ak=aq(r);var R=J;var am="3.1.7";var V={doAll:u,ajax:U,fetchGet:w,fetchPost:M,fetchPut:f,fetchDelete:j,fetchPatch:v,fetchHead:I,getJSON:ac,postJSON:af,putJSON:g,deleteJSON:ak,patchJSON:C,headJSON:q,jsonp:s,setup:n,serialize:i,interceptors:Z,version:am};function ap(au){E(au,function(aw,av){a[av]=y(aw)?function(){var ax=aw.apply(a.$context,arguments);an(a);return ax}:aw})}function ai(au){au.install(a)}ap(V);a.use=ai;a.mixin=ap;a.AbortController=R;return a}));