/**
 * xe-ajax.js v3.4.6
 * (c) 2017-2018 Xu Liangzhan
 * ISC License.
 * @preserve
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.XEAjax=e()}(this,function(){"use strict";var e="undefined",s=encodeURIComponent,n=typeof window===e&&typeof process!==e,t=typeof AbortController!==e&&typeof AbortSignal!==e,r=typeof console===e?"":console,o="";function a(t){return!!t&&t.constructor===Object}function u(t){return!!t&&t.constructor===Array}function i(t,e){for(var n=t.length-1;0<=n;n--)if(e===t[n])return n;return-1}function c(t,e,n){for(var r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function f(){return n?"":o.origin||o.protocol+"//"+o.host}n||(o=location);var d={_N:n,_F:!n&&!!self.fetch,_A:!(typeof Blob===e||typeof FormData===e||typeof FileReader===e),_FAC:t,isFData:function(t){return typeof FormData!==e&&t instanceof FormData},isCrossOrigin:function(t){return!n&&/(\w+:)\/{2}((.*?)\/|(.*)$)/.test(t)&&(RegExp.$1!==o.protocol||RegExp.$2.split("/")[0]!==o.host)},isStr:function(t){return"string"==typeof t},isObj:function(t){return t&&"object"==typeof t},isPlainObject:a,isFn:function(t){return"function"==typeof t},err:function(t){var e=r.error?r.error:"";e&&e(t)},getOrigin:f,getBaseURL:function(){if(n)return"";var t=o.pathname,e=i(t,"/")+1;return f()+(e===t.length?t:t.substring(0,e))},objectEach:c,serialize:function(t){var n=[];return c(t,function(t,e){void 0!==t&&(a(t)||u(t)?n=n.concat(function n(t,r,o){var i=[];return c(t,function(t,e){a(t)||u(t)?i=i.concat(n(t,r+"["+e+"]",u(t))):i.push(s(r+"["+(o?"":e)+"]")+"="+s(null===t?"":t))}),i}(t,e,u(t))):n.push(s(e)+"="+s(null===t?"":t)))}),n.join("&").replace(/%20/g,"+")},assign:Object.assign||function(t){for(var e,n=arguments,r=1,o=n.length;r<o;r++)for(var i in e=n[r])e.hasOwnProperty(i)&&(t[i]=e[i]);return t},includes:function(t,e){return-1<i(t,e)},arrayEach:function(t,e,n){for(var r=0,o=t.length;r<o;r++)e.call(n,t[r],r,t)},clearContext:function(t){t.$context=t.$Promise=null}},h={method:"GET",baseURL:d.getBaseURL(),mode:"cors",cache:"default",credentials:"same-origin",redirect:"follow",bodyType:"json-data",headers:{Accept:"application/json, text/plain, */*"},validateStatus:function(t){return 200<=t.status&&t.status<300}};function l(t){return(""+t).toLowerCase()}function p(t,e){var n,r,o;this.$index=0,this.$list=(n=t,r=e,o=[],d.objectEach(n,function(t,e){o.push([e,t,[e,t]][r])}),o),this.next=function(){return e=(t=this).$list[this.$index],{done:n=t.$index++>=t.$list.length,value:n?void 0:e};var t,e,n}}function y(t){var n=this,e=function(t,e){n.set(e,t)};n._d={},t instanceof b?t.forEach(e):d.objectEach(t,e)}var v=y.prototype;v.set=function(t,e){this._d[l(t)]=e},v.get=function(t){var e=l(t);return this.has(e)?this._d[e]:null},v.append=function(t,e){var n=l(t);this.has(n)?this._d[n]=this._d[n]+", "+e:this._d[n]=""+e},v.has=function(t){return this._d.hasOwnProperty(l(t))},v.keys=function(){return new p(this._d,0)},v.values=function(){return new p(this._d,1)},v.entries=function(){return new p(this._d,2)},v.delete=function(t){delete this._d[l(t)]},v.forEach=function(t,e){d.objectEach(this._d,t,e)};var b="undefined"==typeof Headers?y:Headers;function m(r,e,o){this.locked=!1,this._getBody=function(){var n=this,t=e.$Promise||Promise;return o._response.bodyUsed=!0,new t(function(t,e){n.locked?e(new TypeError("body stream already read")):(n.locked=!0,t(r))},e.$context)}}function g(){this.onaborted=null,this._abortSignal={aborted:!1}}Object.defineProperty(g.prototype,"aborted",{get:function(){return this._abortSignal.aborted}});var _=[];function x(t){for(var e=0,n=_.length;e<n;e++)if(t===_[e][0])return e}function w(){this.signal=new g}g.prototype.install=function(t){var e=t.signal;if(e){var n=x(e);void 0===n?_.push([e,[t]]):_[n][1].push(t)}},w.prototype.abort=function(){var t=x(this.signal);if(void 0!==t){var e=_[t];d.arrayEach(e[1],function(t){t.abort(),e[0]._abortSignal.aborted=!0}),_.splice(t,1)}};var E=d._FAC?AbortController:w,j={resolves:[],rejects:[]},$={resolves:[],rejects:[]};function T(t,e){d.includes(t,e)||t.push(e)}function P(n){return function(t,e){T(n.resolves,t),T(n.rejects,e)}}function R(t,r,e){var o=r.$Promise||Promise,n=o.resolve(e,r.$context);return d.arrayEach(t,function(t){n=n.then(function(n){return new o(function(e){t(n,function(t){e(t&&t.body&&t.status?N.toResponse(t,r):n)},r)},r.$context)}).catch(d.err)}),n}var O={request:{use:P(j)},response:{use:P($)}};O.request.use(function(t,e){var n=t.headers,r=t.body,o=t.method;r&&"GET"!==o&&"HEAD"!==o&&(d.isFData(r)||n.set("Content-Type","json-data"===t.bodyType?"application/json; charset=utf-8":"application/x-www-form-urlencoded")),d.isCrossOrigin(t.getUrl())&&n.set("X-Requested-With","XMLHttpRequest"),e()});var A={interceptors:O,requests:function(t){var r=t.$Promise||Promise,e=r.resolve(t,t.$context);return d.arrayEach(j.resolves,function(n){e=e.then(function(e){return new r(function(t){n(e,function(){t(e)})},t.$context)}).catch(d.err)}),e},toResolves:function(t,e,n,r){R($.resolves,t,e).then(n)},toRejects:function(t,e,n,r){R($.rejects,t,e).then(function(t){(N.isResponse(t)?n:r)(t)})}};function C(t){d.assign(this,{url:"",body:"",params:"",signal:""},t),this.headers=new b(t.headers),this.method=this.method.toLocaleUpperCase(),this.bodyType=this.bodyType.toLowerCase();var e=this.signal;e&&e.install&&e.install(this)}var F=C.prototype;function S(t,e,n){this._body=t,this._request=n;var r=e.status;(this._response={body:new m(t,n,this),bodyUsed:!1,url:n.url,status:r,statusText:e.statusText,redirected:302===r,headers:new b(e.headers||{}),type:"basic"}).ok=n.validateStatus(this)}F.abort=function(){var t=this.xhr;t&&t.abort(),this.$abort=!0},F.getUrl=function(){var t=this.url,e=this.params;if(t){var n=d.includes(["no-store","no-cache","reload"],this.cache)?{_t:Date.now()}:{},r=this.transformParams;return r&&(e=this.params=r(e||{},this)),(e=e&&!d.isFData(e)?d.isStr(e)?e:(this.paramsSerializer||d.serialize)(d.assign(n,e),this):d.serialize(n))&&(t+=(-1===t.indexOf("?")?"?":"&")+e),/\w+:\/{2}.*/.test(t)?t:0===t.indexOf("//")?(d._N?"":location.protocol)+t:0===t.indexOf("/")?d.getOrigin()+t:this.baseURL.replace(/\/$/,"")+"/"+t}return t},F.getBody=function(){var t=null,e=this.body,n=this.method;if(e&&"GET"!==n&&"HEAD"!==n){var r=this.transformBody,o=this.stringifyBody;r&&(e=this.body=r(e,this)||e),t=o?o(e,this):d.isFData(e)||d.isStr(e)?e:"form-data"===this.bodyType?d.serialize(e):JSON.stringify(e)}return t};var q=decodeURIComponent,U=S.prototype;function D(t,n){return new(t.$Promise||Promise)(function(t,e){n.onload=function(){t(n.result)},n.onerror=function(){e(n.error)}},t.$context)}function B(t){if(t){var e=t.constructor;return"undefined"!=typeof Response&&e===Response||e===S}return!1}function H(t){return d.isStr(t)?t:JSON.stringify(t)}d.arrayEach("body,bodyUsed,url,headers,status,statusText,ok,redirected,type".split(","),function(t){Object.defineProperty(U,t,{get:function(){return this._response[t]}})}),U.clone=function(){if(this.bodyUsed)throw new TypeError("Failed to execute 'clone' on 'Response': Response body is already used");return new S(this._body,this,this._request)},U.json=function(){return this.text().then(function(t){return JSON.parse(t)})},U.text=function(){return this.body._getBody(this)},d._A&&(U.text=function(){var r=this._request;return this.blob().then(function(t){var e=new FileReader,n=D(r,e);return e.readAsText(t),n})},U.blob=function(){return this.body._getBody(this)},U.arrayBuffer=function(){var r=this._request;return this.blob().then(function(t){var e=new FileReader,n=D(r,e);return e.readAsArrayBuffer(t),n})},U.formData=function(){return this.text().then(function(t){var o=new FormData;return d.arrayEach(t.trim().split("&"),function(t){if(t){var e=t.split("="),n=e.shift().replace(/\+/g," "),r=e.join("=").replace(/\+/g," ");o.append(q(n),q(r))}}),o})});var N={isResponse:B,toResponse:function(t,e){if(B(t))return t;var n=t.body,r={status:t.status,statusText:t.statusText,headers:t.headers};return new S(n=d._A?n instanceof Blob?n:new Blob([H(n)]):H(n),r,e)}};function k(r,o,t){var e=r.getUrl(),n=r.timeout,i=r.credentials;if("same-origin"===r.mode&&d.isCrossOrigin(e))throw t(),new TypeError("Fetch API cannot load "+e+'. Request mode is "same-origin" but the URL\'s origin is not same as the request origin '+d.getOrigin()+".");var s=r.$XMLHttpRequest||XMLHttpRequest,a=r.xhr=new s;a._request=r,a.open(r.method,e,!0),n&&setTimeout(function(){a.abort()},n),r.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.onload=function(){var t,n,e;o(new S(a.response,{status:a.status,statusText:a.statusText,headers:(t=a,n={},e=t.getAllResponseHeaders().trim(),d.arrayEach(e.split("\n"),function(t){var e=t.indexOf(":");n[t.slice(0,e).trim()]=t.slice(e+1).trim()}),n)},r))},a.onerror=function(){t()},a.ontimeout=function(){t("E_T")},a.onabort=function(){t("E_A")},d._A&&(a.responseType="blob"),"include"===i?a.withCredentials=!0:"omit"===i&&(a.withCredentials=!1),a.send(r.getBody()),r.$abort&&a.abort()}function L(e,n,r){var o="",t=e.$fetch||self.fetch,i=e.timeout,s={_request:e,body:e.getBody()},a=e.signal,u=clearTimeout;d.arrayEach("method,headers,signal,mode,cache,credentials,redirect,referrer,referrerPolicy,keepalive,integrity".split(","),function(t){e[t]&&(s[t]=e[t])}),i&&(o=setTimeout(function(){r("E_T")},i)),a&&a.aborted?r("E_A"):t(e.getUrl(),s).then(function(t){u(o),n(N.toResponse(t,e))}).catch(function(t){u(o),r()})}var J=d._N?sendHttp:d._F?function(t){return(e=t,n=e.signal,e.$fetch?n?k:L:d._F?d._FAC?L:n?k:L:k).apply(this,arguments);var e,n}:k,G=0,z="undefined"==typeof window?"":window,X=z?z.document:"";function I(t,e){var n=t.script,r=X.body;n.parentNode===r&&r.removeChild(n);try{delete z[e]}catch(t){z[e]=void 0}}var M={E_A:"The user aborted a request.",E_T:"Request timeout.",E_F:"Network request failed."};function W(t){var r=new C(d.assign({},h,{headers:d.assign({},h.headers)},t));return new(r.$Promise||Promise)(function(e,n){return A.requests(r).then(function(){(r.jsonp?function(e,n,t){var r=e.timeout,o=e.jsonpCallback,i=e.script=X.createElement("script");if(o||(o=e.jsonpCallback="jsonp_xe_"+Date.now()+"_"+ ++G),d.isFn(e.$jsonp))return e.$jsonp(i,e).then(function(t){n(N.toResponse({status:200,body:t},e))}).catch(function(){t()});var s=e.getUrl();z[o]=function(t){I(e,o),n({status:200,body:t})},i.type="text/javascript",i.src=s+(-1===s.indexOf("?")?"?":"&")+e.jsonp+"="+o,i.onerror=function(){I(e,o),n()},r&&setTimeout(function(){I(e,o),n("E_T")},r),X.body.appendChild(i)}:J)(r,function(t){A.toResolves(r,N.toResponse(t,r),e,n)},function(t){A.toRejects(r,new TypeError(M[t||"E_F"]),e,n)})})},r.$context)}W.version="3.4.6",W.interceptors=A.interceptors,W.serialize=d.serialize,W.AbortController=E,W.use=function(t){t.install(W)},W.setup=function(t){d.assign(h,t)};var K=d.clearContext;function Q(t,e,n){var r=d.assign({method:t,$context:W.$context,$Promise:W.$Promise},e,n);return K(W),r}function V(t){return function(){return W(t.apply(this,arguments))}}function Y(t,e,n,r,o){return t?{data:e,status:n,statusText:r,headers:o}:e}function Z(n,i){return function(){var t=n.apply(this,arguments),e=t.$Promise||Promise;return W(t).catch(function(t){return e.reject(Y(i,"","failed",t.message||t,{}),this)}).then(function(o){return new e(function(t,e){var r=o.ok?t:e;o.clone().json().catch(function(t){return o.clone().text()}).then(function(t){var n;r(Y(i,t,o.status,o.statusText,(n={},o.headers.forEach(function(t,e){n[e]=t}),n)))})},this)})}}function tt(t){return Z(t,!0)}function et(t){return Z(t)}function nt(n){return function(t,e){return Q(n,{url:t},e)}}function rt(r,o){return function(t,e,n){return Q(r,d.assign({url:t,params:e},o),n)}}function ot(r){return function(t,e,n){return Q(r,{url:t,body:e},n)}}var it=nt("HEAD"),st=nt("DELETE"),at=rt("GET",{jsonp:"callback"}),ut=rt("GET"),ct=ot("POST"),ft=ot("PUT"),dt=ot("PATCH"),ht={doAll:function(t){var e=W.$Promise||Promise,n=W.$context;return K(W),e.all(t.map(function(t){return t instanceof e||t instanceof Promise?t:d.isObj(t)?W(d.assign({$context:n,$Promise:e},t)):t}),n)},ajax:W,fetch:V(nt("GET")),fetchGet:V(ut),fetchPost:V(ct),fetchPut:V(ft),fetchDelete:V(st),fetchPatch:V(dt),fetchHead:V(it),fetchJsonp:V(at),doGet:tt(ut),doPost:tt(ct),doPut:tt(ft),doDelete:tt(st),doPatch:tt(dt),doHead:tt(it),doJsonp:tt(at),getJSON:et(ut),postJSON:et(ct),putJSON:et(ft),deleteJSON:et(st),patchJSON:et(dt),headJSON:et(it),jsonp:et(at)};return W.mixin=function(t){d.objectEach(t,function(e,t){W[t]=d.isFn(e)?function(){var t=e.apply(W.$context,arguments);return K(W),t}:e})},W.mixin(ht),W});