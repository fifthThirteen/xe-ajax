/**
 * xe-ajax.js v3.4.6
 * (c) 2017-2018 Xu Liangzhan
 * ISC License.
 * @preserve
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.XEAjax=e()}(this,function(){"use strict";var e="undefined",s=encodeURIComponent,n=typeof window===e&&typeof process!==e,t=typeof AbortController!==e&&typeof AbortSignal!==e,r="";function a(t){return!!t&&t.constructor===Object}function u(t){return!!t&&t.constructor===Array}function o(t,e){for(var n=t.length-1;0<=n;n--)if(e===t[n])return n;return-1}function c(t,e,n){for(var r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function i(){return n?"":r.origin||r.protocol+"//"+r.host}n||(r=location);var f={_N:n,_F:!n&&!!self.fetch,_A:!(typeof Blob===e||typeof FormData===e||typeof FileReader===e),_FAC:t,isFData:function(t){return typeof FormData!==e&&t instanceof FormData},isCrossOrigin:function(t){return!n&&/(\w+:)\/{2}((.*?)\/|(.*)$)/.test(t)&&(RegExp.$1!==r.protocol||RegExp.$2.split("/")[0]!==r.host)},isStr:function(t){return"string"==typeof t},isObj:function(t){return t&&"object"==typeof t},isPlainObject:a,isFn:function(t){return"function"==typeof t},getOrigin:i,getBaseURL:function(){if(n)return"";var t=r.pathname,e=o(t,"/")+1;return i()+(e===t.length?t:t.substring(0,e))},objectEach:c,serialize:function(t){var n=[];return c(t,function(t,e){void 0!==t&&(a(t)||u(t)?n=n.concat(function n(t,r,o){var i=[];return c(t,function(t,e){a(t)||u(t)?i=i.concat(n(t,r+"["+e+"]",u(t))):i.push(s(r+"["+(o?"":e)+"]")+"="+s(null===t?"":t))}),i}(t,e,u(t))):n.push(s(e)+"="+s(null===t?"":t)))}),n.join("&").replace(/%20/g,"+")},assign:Object.assign||function(t){for(var e,n=arguments,r=1,o=n.length;r<o;r++)for(var i in e=n[r])e.hasOwnProperty(i)&&(t[i]=e[i]);return t},includes:function(t,e){return-1<o(t,e)},arrayEach:function(t,e,n){for(var r=0,o=t.length;r<o;r++)e.call(n,t[r],r,t)},clearContext:function(t){t.$context=t.$Promise=null}},d={method:"GET",baseURL:f.getBaseURL(),mode:"cors",cache:"default",credentials:"same-origin",redirect:"follow",bodyType:"json-data",headers:{Accept:"application/json, text/plain, */*"},validateStatus:function(t){return 200<=t.status&&t.status<300}};function h(t){return(""+t).toLowerCase()}function l(t,e){var n,r,o;this.$index=0,this.$list=(n=t,r=e,o=[],f.objectEach(n,function(t,e){o.push([e,t,[e,t]][r])}),o),this.next=function(){return e=(t=this).$list[this.$index],{done:n=t.$index++>=t.$list.length,value:n?void 0:e};var t,e,n}}function p(t){var n=this,e=function(t,e){n.set(e,t)};n._d={},t instanceof v?t.forEach(e):f.objectEach(t,e)}var y=p.prototype;y.set=function(t,e){this._d[h(t)]=e},y.get=function(t){var e=h(t);return this.has(e)?this._d[e]:null},y.append=function(t,e){var n=h(t);this.has(n)?this._d[n]=this._d[n]+", "+e:this._d[n]=""+e},y.has=function(t){return this._d.hasOwnProperty(h(t))},y.keys=function(){return new l(this._d,0)},y.values=function(){return new l(this._d,1)},y.entries=function(){return new l(this._d,2)},y.delete=function(t){delete this._d[h(t)]},y.forEach=function(t,e){f.objectEach(this._d,t,e)};var v="undefined"==typeof Headers?p:Headers;function b(r,e,o){this.locked=!1,this._getBody=function(){var n=this,t=e.$Promise||Promise;return o._response.bodyUsed=!0,new t(function(t,e){n.locked?e(new TypeError("body stream already read")):(n.locked=!0,t(r))},e.$context)}}function m(){this.onaborted=null,this._abortSignal={aborted:!1}}Object.defineProperty(m.prototype,"aborted",{get:function(){return this._abortSignal.aborted}});var g=[];function _(t){for(var e=0,n=g.length;e<n;e++)if(t===g[e][0])return e}function x(){this.signal=new m}m.prototype.install=function(t){var e=t.signal;if(e){var n=_(e);void 0===n?g.push([e,[t]]):g[n][1].push(t)}},x.prototype.abort=function(){var t=_(this.signal);if(void 0!==t){var e=g[t];f.arrayEach(e[1],function(t){t.abort(),e[0]._abortSignal.aborted=!0}),g.splice(t,1)}};var w=f._FAC?AbortController:x,E={resolves:[],rejects:[]},j={resolves:[],rejects:[]};function $(t,e){f.includes(t,e)||t.push(e)}function T(n){return function(t,e){$(n.resolves,t),$(n.rejects,e)}}function P(t,r,e){var o=r.$Promise||Promise,n=o.resolve(e,r.$context);return f.arrayEach(t,function(t){n=n.then(function(n){return new o(function(e){t(n,function(t){e(t&&t.body&&t.status?H.toResponse(t,r):n)},r)},r.$context)}).catch(function(t){console.error(t)})}),n}var R={request:{use:T(E)},response:{use:T(j)}};R.request.use(function(t,e){var n=t.headers,r=t.body,o=t.method;r&&"GET"!==o&&"HEAD"!==o&&(f.isFData(r)||n.set("Content-Type","json-data"===t.bodyType?"application/json; charset=utf-8":"application/x-www-form-urlencoded")),f.isCrossOrigin(t.getUrl())&&n.set("X-Requested-With","XMLHttpRequest"),e()});var O={interceptors:R,requests:function(t){var r=t.$Promise||Promise,e=r.resolve(t,t.$context);return f.arrayEach(E.resolves,function(n){e=e.then(function(e){return new r(function(t){n(e,function(){t(e)})},t.$context)}).catch(function(t){console.error(t)})}),e},toResolves:function(t,e,n,r){P(j.resolves,t,e).then(n)},toRejects:function(t,e,n,r){P(j.rejects,t,e).then(function(t){(H.isResponse(t)?n:r)(t)})}};function A(t){f.assign(this,{url:"",body:"",params:"",signal:""},t),this.headers=new v(t.headers),this.method=this.method.toLocaleUpperCase(),this.bodyType=this.bodyType.toLowerCase();var e=this.signal;e&&e.install&&e.install(this)}var C=A.prototype;function F(t,e,n){this._body=t,this._request=n;var r=e.status;(this._response={body:new b(t,n,this),bodyUsed:!1,url:n.url,status:r,statusText:e.statusText,redirected:302===r,headers:new v(e.headers||{}),type:"basic"}).ok=n.validateStatus(this)}C.abort=function(){var t=this.xhr;t&&t.abort(),this.$abort=!0},C.getUrl=function(){var t=this.url,e=this.params;if(t){var n=f.includes(["no-store","no-cache","reload"],this.cache)?{_t:Date.now()}:{},r=this.transformParams;return r&&(e=this.params=r(e||{},this)),(e=e&&!f.isFData(e)?f.isStr(e)?e:(this.paramsSerializer||f.serialize)(f.assign(n,e),this):f.serialize(n))&&(t+=(-1===t.indexOf("?")?"?":"&")+e),/\w+:\/{2}.*/.test(t)?t:0===t.indexOf("//")?(f._N?"":location.protocol)+t:0===t.indexOf("/")?f.getOrigin()+t:this.baseURL.replace(/\/$/,"")+"/"+t}return t},C.getBody=function(){var t=null,e=this.body,n=this.method;if(e&&"GET"!==n&&"HEAD"!==n){var r=this.transformBody,o=this.stringifyBody;r&&(e=this.body=r(e,this)||e),t=o?o(e,this):f.isFData(e)||f.isStr(e)?e:"form-data"===this.bodyType?f.serialize(e):JSON.stringify(e)}return t};var S=decodeURIComponent,q=F.prototype;function U(t,n){return new(t.$Promise||Promise)(function(t,e){n.onload=function(){t(n.result)},n.onerror=function(){e(n.error)}},t.$context)}function D(t){if(t){var e=t.constructor;return"undefined"!=typeof Response&&e===Response||e===F}return!1}function B(t){return f.isStr(t)?t:JSON.stringify(t)}f.arrayEach("body,bodyUsed,url,headers,status,statusText,ok,redirected,type".split(","),function(t){Object.defineProperty(q,t,{get:function(){return this._response[t]}})}),q.clone=function(){if(this.bodyUsed)throw new TypeError("Failed to execute 'clone' on 'Response': Response body is already used");return new F(this._body,this,this._request)},q.json=function(){return this.text().then(function(t){return JSON.parse(t)})},q.text=function(){return this.body._getBody(this)},f._A&&(q.text=function(){var r=this._request;return this.blob().then(function(t){var e=new FileReader,n=U(r,e);return e.readAsText(t),n})},q.blob=function(){return this.body._getBody(this)},q.arrayBuffer=function(){var r=this._request;return this.blob().then(function(t){var e=new FileReader,n=U(r,e);return e.readAsArrayBuffer(t),n})},q.formData=function(){return this.text().then(function(t){var o=new FormData;return f.arrayEach(t.trim().split("&"),function(t){if(t){var e=t.split("="),n=e.shift().replace(/\+/g," "),r=e.join("=").replace(/\+/g," ");o.append(S(n),S(r))}}),o})});var H={isResponse:D,toResponse:function(t,e){if(D(t))return t;var n=t.body,r={status:t.status,statusText:t.statusText,headers:t.headers};return new F(n=f._A?n instanceof Blob?n:new Blob([B(n)]):B(n),r,e)}};function N(r,o,t){var e=r.getUrl(),n=r.timeout,i=r.credentials;if("same-origin"===r.mode&&f.isCrossOrigin(e))throw t(),new TypeError("Fetch API cannot load "+e+'. Request mode is "same-origin" but the URL\'s origin is not same as the request origin '+f.getOrigin()+".");var s=r.$XMLHttpRequest||XMLHttpRequest,a=r.xhr=new s;a._request=r,a.open(r.method,e,!0),n&&setTimeout(function(){a.abort()},n),r.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.onload=function(){var t,n,e;o(new F(a.response,{status:a.status,statusText:a.statusText,headers:(t=a,n={},e=t.getAllResponseHeaders().trim(),f.arrayEach(e.split("\n"),function(t){var e=t.indexOf(":");n[t.slice(0,e).trim()]=t.slice(e+1).trim()}),n)},r))},a.onerror=function(){t()},a.ontimeout=function(){t("E_T")},a.onabort=function(){t("E_A")},f._A&&(a.responseType="blob"),"include"===i?a.withCredentials=!0:"omit"===i&&(a.withCredentials=!1),a.send(r.getBody()),r.$abort&&a.abort()}function k(e,n,r){var o="",t=e.$fetch||self.fetch,i=e.timeout,s={_request:e,body:e.getBody()},a=e.signal,u=clearTimeout;f.arrayEach("method,headers,signal,mode,cache,credentials,redirect,referrer,referrerPolicy,keepalive,integrity".split(","),function(t){e[t]&&(s[t]=e[t])}),i&&(o=setTimeout(function(){r("E_T")},i)),a&&a.aborted?r("E_A"):t(e.getUrl(),s).then(function(t){u(o),n(H.toResponse(t,e))}).catch(function(t){u(o),r()})}var L=f._N?sendHttp:f._F?function(t){return(e=t,n=e.signal,e.$fetch?n?N:k:f._F?f._FAC?k:n?N:k:N).apply(this,arguments);var e,n}:N,J=0,G="undefined"==typeof window?"":window,z=G?G.document:"";function X(t,e){var n=t.script,r=z.body;n.parentNode===r&&r.removeChild(n);try{delete G[e]}catch(t){G[e]=void 0}}var I={E_A:"The user aborted a request.",E_T:"Request timeout.",E_F:"Network request failed."};function M(t){var r=new A(f.assign({},d,{headers:f.assign({},d.headers)},t));return new(r.$Promise||Promise)(function(e,n){return O.requests(r).then(function(){(r.jsonp?function(e,n,t){var r=e.timeout,o=e.jsonpCallback,i=e.script=z.createElement("script");if(o||(o=e.jsonpCallback="jsonp_xe_"+Date.now()+"_"+ ++J),f.isFn(e.$jsonp))return e.$jsonp(i,e).then(function(t){n(H.toResponse({status:200,body:t},e))}).catch(function(){t()});var s=e.getUrl();G[o]=function(t){X(e,o),n({status:200,body:t})},i.type="text/javascript",i.src=s+(-1===s.indexOf("?")?"?":"&")+e.jsonp+"="+o,i.onerror=function(){X(e,o),n()},r&&setTimeout(function(){X(e,o),n("E_T")},r),z.body.appendChild(i)}:L)(r,function(t){O.toResolves(r,H.toResponse(t,r),e,n)},function(t){O.toRejects(r,new TypeError(I[t||"E_F"]),e,n)})})},r.$context)}M.version="3.4.6",M.interceptors=O.interceptors,M.serialize=f.serialize,M.AbortController=w,M.use=function(t){t.install(M)},M.setup=function(t){f.assign(d,t)};var W=f.clearContext;function K(t,e,n){var r=f.assign({method:t,$context:M.$context,$Promise:M.$Promise},e,n);return W(M),r}function Q(t){return function(){return M(t.apply(this,arguments))}}function V(t,e,n,r,o){return t?{data:e,status:n,statusText:r,headers:o}:e}function Y(n,i){return function(){var t=n.apply(this,arguments),e=t.$Promise||Promise;return M(t).catch(function(t){return e.reject(V(i,"","failed",t.message||t,{}),this)}).then(function(o){return new e(function(t,e){var r=o.ok?t:e;o.clone().json().catch(function(t){return o.clone().text()}).then(function(t){var n;r(V(i,t,o.status,o.statusText,(n={},o.headers.forEach(function(t,e){n[e]=t}),n)))})},this)})}}function Z(t){return Y(t,!0)}function tt(t){return Y(t)}function et(n){return function(t,e){return K(n,{url:t},e)}}function nt(r,o){return function(t,e,n){return K(r,f.assign({url:t,params:e},o),n)}}function rt(r){return function(t,e,n){return K(r,{url:t,body:e},n)}}var ot=et("HEAD"),it=et("DELETE"),st=nt("GET",{jsonp:"callback"}),at=nt("GET"),ut=rt("POST"),ct=rt("PUT"),ft=rt("PATCH"),dt={doAll:function(t){var e=M.$Promise||Promise,n=M.$context;return W(M),e.all(t.map(function(t){return t instanceof e||t instanceof Promise?t:f.isObj(t)?M(f.assign({$context:n,$Promise:e},t)):t}),n)},ajax:M,fetch:Q(et("GET")),fetchGet:Q(at),fetchPost:Q(ut),fetchPut:Q(ct),fetchDelete:Q(it),fetchPatch:Q(ft),fetchHead:Q(ot),fetchJsonp:Q(st),doGet:Z(at),doPost:Z(ut),doPut:Z(ct),doDelete:Z(it),doPatch:Z(ft),doHead:Z(ot),doJsonp:Z(st),getJSON:tt(at),postJSON:tt(ut),putJSON:tt(ct),deleteJSON:tt(it),patchJSON:tt(ft),headJSON:tt(ot),jsonp:tt(st)};return M.mixin=function(t){f.objectEach(t,function(e,t){M[t]=f.isFn(e)?function(){var t=e.apply(M.$context,arguments);return W(M),t}:e})},M.mixin(dt),M});