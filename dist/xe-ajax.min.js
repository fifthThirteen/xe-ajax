/**
 * xe-ajax.js v3.4.9-beta.0
 * (c) 2017-2018 Xu Liangzhan
 * ISC License.
 * @preserve
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.XEAjax=e()}(this,function(){"use strict";var e="undefined",s=encodeURIComponent,n=typeof window===e&&typeof process!==e,t=typeof AbortController!==e&&typeof AbortSignal!==e,r=typeof console===e?"":console,o="";function a(t){return!!t&&t.constructor===Object}function u(t){return!!t&&t.constructor===Array}function i(t,e){for(var n=t.length-1;0<=n;n--)if(e===t[n])return n;return-1}function c(t,e,n){for(var r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function f(){return n?"":o.origin||o.protocol+"//"+o.host}n||(o=location);var h={IS_N:n,IS_F:!n&&!!self.fetch,IS_A:!(typeof Blob===e||typeof FormData===e||typeof FileReader===e),IS_FAC:t,IS_DEF:Object.defineProperty&&{}.__defineGetter__,isFData:function(t){return typeof FormData!==e&&t instanceof FormData},isCrossOrigin:function(t){return!n&&/(\w+:)\/{2}((.*?)\/|(.*)$)/.test(t)&&(RegExp.$1!==o.protocol||RegExp.$2.split("/")[0]!==o.host)},isStr:function(t){return"string"==typeof t},isObj:function(t){return t&&"object"==typeof t},isPlainObject:a,isFn:function(t){return"function"==typeof t},err:function(t){var e=r.error?r.error:"";e&&e(t)},getOrigin:f,getBaseURL:function(){if(n)return"";var t=o.pathname,e=i(t,"/")+1;return f()+(e===t.length?t:t.substring(0,e))},objectEach:c,serialize:function(t){var n=[];return c(t,function(t,e){void 0!==t&&(a(t)||u(t)?n=n.concat(function n(t,r,o){var i=[];return c(t,function(t,e){a(t)||u(t)?i=i.concat(n(t,r+"["+e+"]",u(t))):i.push(s(r+"["+(o?"":e)+"]")+"="+s(null===t?"":t))}),i}(t,e,u(t))):n.push(s(e)+"="+s(null===t?"":t)))}),n.join("&").replace(/%20/g,"+")},assign:Object.assign||function(t){for(var e,n=arguments,r=1,o=n.length;r<o;r++)for(var i in e=n[r])e.hasOwnProperty(i)&&(t[i]=e[i]);return t},trim:function(t){return(""+t).replace(/(^\s*)|(\s*$)/g,"")},includes:function(t,e){return-1<i(t,e)},arrayEach:function(t,e,n){for(var r=0,o=t.length;r<o;r++)e.call(n,t[r],r,t)},headersEach:function(t,e){t&&t.forEach&&t.forEach(e)},clearContext:function(t){t.$context=t.$Promise=null}},d={method:"GET",baseURL:h.getBaseURL(),mode:"cors",cache:"default",credentials:"same-origin",redirect:"follow",bodyType:"json-data",headers:{Accept:"application/json, text/plain, */*"},validateStatus:function(t){return 200<=t.status&&t.status<300}};function l(t){return(""+t).toLowerCase()}function p(t,e){var n,r,o;this.$index=0,this.$list=(n=t,r=e,o=[],h.objectEach(n,function(t,e){o.push([e,t,[e,t]][r])}),o),this.next=function(){return e=(t=this).$list[this.$index],{done:n=t.$index++>=t.$list.length,value:n?void 0:e};var t,e,n}}function y(t){var n=this;n._d={},h[t instanceof g?"headersEach":"objectEach"](t,function(t,e){n.set(e,t)})}var v=y.prototype;v.set=function(t,e){this._d[l(t)]=e},v.get=function(t){var e=l(t);return this.has(e)?this._d[e]:null},v.append=function(t,e){var n=l(t),r=this._d;this.has(n)?r[n]=r[n]+", "+e:r[n]=""+e},v.has=function(t){return this._d.hasOwnProperty(l(t))},v.keys=function(){return new p(this._d,0)},v.values=function(){return new p(this._d,1)},v.entries=function(){return new p(this._d,2)},v.delete=function(t){delete this._d[l(t)]},v.forEach=function(t,e){h.objectEach(this._d,t,e)};var g="undefined"==typeof Headers?y:Headers;function m(r,e,o){this.locked=!1,this._getBody=function(){var n=this,t=e.$Promise||Promise;return h.IS_DEF?o._response.bodyUsed=!0:o.bodyUsed=!0,new t(function(t,e){n.locked?e(new TypeError("body stream already read")):(n.locked=!0,t(r))},e.$context)}}function b(t){Object.assign(this,{fixed:2,meanSpeed:0,onDownloadProgress:null,onUploadProgress:null},t,{_progress:{}})}function _(){this.onaborted=null,h.IS_DEF?this.D_AS={aborted:!1}:this.aborted=!1}h.IS_DEF&&h.arrayEach("time,speed,loaded,value,total,remaining".split(","),function(t){Object.defineProperty(b.prototype,t,{get:function(){return this._progress[t]}})}),h.IS_DEF&&Object.defineProperty(_.prototype,"aborted",{get:function(){return this.D_AS.aborted}});var E=[];function x(t){for(var e=0,n=E.length;e<n;e++)if(t===E[e][0])return e;return-1}function w(){this.signal=new _}_.prototype.install=function(t){var e=t.signal;if(e){var n=x(e);-1<n?E[n][1].push(t):E.push([e,[t]])}},w.prototype.abort=function(){var t=x(this.signal);if(-1<t){var n=E[t];h.arrayEach(n[1],function(t){var e=n[0];t.abort(),h.IS_DEF?e.D_AS.aborted=!0:e.aborted=!0}),E.splice(t,1)}};var S=h.IS_FAC?AbortController:w,P={resolves:[],rejects:[]},T={resolves:[],rejects:[]};function j(t,e){h.includes(t,e)||t.push(e)}function $(n){return function(t,e){j(n.resolves,t),j(n.rejects,e)}}function F(t,r,e){var o=r.$Promise||Promise,n=o.resolve(e,r.$context);return h.arrayEach(t,function(t){n=n.then(function(n){return new o(function(e){t(n,function(t){e(t&&t.body&&t.status?H.toResponse(t,r):n)},r)},r.$context)}).catch(h.err)}),n}var O={request:{use:$(P)},response:{use:$(T)}};O.request.use(function(t,e){var n=t.headers,r=t.body,o=t.method;r&&"GET"!==o&&"HEAD"!==o&&(h.isFData(r)||n.set("Content-Type","json-data"===t.bodyType?"application/json; charset=utf-8":"application/x-www-form-urlencoded")),h.isCrossOrigin(t.getUrl())&&n.set("X-Requested-With","XMLHttpRequest"),e()});var R={interceptors:O,requests:function(t){var r=t.$Promise||Promise,e=r.resolve(t,t.$context);return h.arrayEach(P.resolves,function(n){e=e.then(function(e){return new r(function(t){n(e,function(){t(e)})},t.$context)}).catch(h.err)}),e},toResolves:function(t,e,n,r){F(T.resolves,t,e).then(n)},toRejects:function(t,e,n,r){F(T.rejects,t,e).then(function(t){(H.isResponse(t)?n:r)(t)})}};function D(t){h.assign(this,{url:"",body:"",params:"",signal:""},t),this.headers=new g(t.headers),this.method=this.method.toLocaleUpperCase(),this.bodyType=this.bodyType.toLowerCase();var e=this.signal;e&&e.install&&e.install(this)}var A=D.prototype;function I(t,e,n){this._body=t,this._request=n;var r=e.status,o=this._response={body:new m(t,n,this),bodyUsed:!1,url:n.url,status:r,statusText:e.statusText,redirected:302===r,headers:new g(e.headers||{}),type:"basic"};h.IS_DEF?o.ok=n.validateStatus(this):(h.assign(this,o),this.ok=n.validateStatus(this))}A.abort=function(){var t=this.xhr;t&&t.abort(),this.$abort=!0},A.getUrl=function(){var t=this.url,e=this.params;if(t){var n=h.includes(["no-store","no-cache","reload"],this.cache)?{_t:Date.now()}:{},r=this.transformParams;return r&&(e=this.params=r(e||{},this)),(e=e&&!h.isFData(e)?h.isStr(e)?e:(this.paramsSerializer||h.serialize)(h.assign(n,e),this):h.serialize(n))&&(t+=(-1===t.indexOf("?")?"?":"&")+e),/\w+:\/{2}.*/.test(t)?t:0===t.indexOf("//")?(h.IS_N?"":location.protocol)+t:0===t.indexOf("/")?h.getOrigin()+t:this.baseURL.replace(/\/$/,"")+"/"+t}return t},A.getBody=function(){var t=null,e=this.body,n=this.method;if(e&&"GET"!==n&&"HEAD"!==n){var r=this.transformBody,o=this.stringifyBody;r&&(e=this.body=r(e,this)||e),t=o?o(e,this):h.isFData(e)||h.isStr(e)?e:"form-data"===this.bodyType?h.serialize(e):JSON.stringify(e)}return t};var C=decodeURIComponent,U=I.prototype;function q(t,n){return new(t.$Promise||Promise)(function(t,e){n.onload=function(){t(n.result)},n.onerror=function(){e(n.error)}},t.$context)}function B(t){if(t){var e=t.constructor;return"undefined"!=typeof Response&&e===Response||e===I}return!1}function N(t){return h.isStr(t)?t:JSON.stringify(t)}h.IS_DEF&&h.arrayEach("body,bodyUsed,url,headers,status,statusText,ok,redirected,type".split(","),function(t){Object.defineProperty(U,t,{get:function(){return this._response[t]}})}),U.clone=function(){if(this.bodyUsed)throw new TypeError("Failed to execute 'clone' on 'Response': Response body is already used");return new I(this._body,this,this._request)},U.json=function(){return this.text().then(function(t){return JSON.parse(t)})},U.text=function(){return this.body._getBody(this)},h.IS_A&&(U.text=function(){var r=this._request;return this.blob().then(function(t){var e=new FileReader,n=q(r,e);return e.readAsText(t),n})},U.blob=function(){return this.body._getBody(this)},U.arrayBuffer=function(){var r=this._request;return this.blob().then(function(t){var e=new FileReader,n=q(r,e);return e.readAsArrayBuffer(t),n})},U.formData=function(){return this.text().then(function(t){var o=new FormData;return h.arrayEach(h.trim(t).split("&"),function(t){if(t){var e=t.split("="),n=e.shift().replace(/\+/g," "),r=e.join("=").replace(/\+/g," ");o.append(C(n),C(r))}}),o})});var H={isResponse:B,toResponse:function(t,e){if(B(t))return t;var n=t.body,r={status:t.status,statusText:t.statusText,headers:t.headers};return new I(n=h.IS_A?n instanceof Blob?n:new Blob([N(n)]):N(n),r,e)}};function k(r,o,t){var e=r.getUrl(),n=r.timeout,i=r.credentials;if("same-origin"===r.mode&&h.isCrossOrigin(e))throw t(),new TypeError("Fetch API cannot load "+e+'. Request mode is "same-origin" but the URL\'s origin is not same as the request origin '+h.getOrigin()+".");var s=r.$XMLHttpRequest||XMLHttpRequest,a=r.xhr=new s,u=r.progress,c=function(){var t,n,e;o(new I(a[h.IS_A?"response":"responseText"],{status:a.status,statusText:a.statusText,headers:(t=a,n={},e=h.trim(t.getAllResponseHeaders()),h.arrayEach(e.split("\n"),function(t){var e=t.indexOf(":");n[h.trim(t.slice(0,e))]=h.trim(t.slice(e+1))}),n)},r))};if(a._request=r,void 0===a.onload?a.onreadystatechange=function(){4===a.readyState&&c()}:a.onload=c,a.onerror=function(){t()},a.ontimeout=function(){t("E_T")},a.onabort=function(){t("E_A")},u){var f=u.onUploadProgress,d=u.onDownloadProgress,l=a.upload;f&&l&&J(l,f,u),d&&J(a,d,u)}a.open(r.method,e,!0),h.headersEach(r.headers,function(t,e){a.setRequestHeader(e,t)}),h.IS_A&&(a.responseType="blob"),"include"===i?a.withCredentials=!0:"omit"===i&&(a.withCredentials=!1),n&&setTimeout(function(){a.abort()},n),a.send(r.getBody()),r.$abort&&a.abort()}function J(t,a,u){var e=(new Date).getTime(),c=[],f=h.IS_DEF?u._progress:u,d=u.meanSpeed;if(f.time=e,t.onprogress=function(t){var e=(new Date).getTime(),n=f.time,r=f.loaded?f.loaded.value:0,o=t.total,i=t.loaded,s=(i-r)/(e-n)*1e3;t.lengthComputable&&(f.value=Math.round(i/o*100)),f.total=M(o,u),f.loaded=M(i,u),f.speed=M(s,u),f.time=e,f.remaining=Math.ceil((o-i)/s),c.push({total:o,loaded:i,speed:s,evnt:t}),d||a(t)},d)var i=setInterval(function(){if(f.value<100){var t=c.length;if(t){for(var e=0,n=null,r=0;r<t;r++)e+=(n=c[0]).speed;var o=e/t;f.speed=M(o,u),f.remaining=Math.ceil((n.total-n.loaded)/o),c=[],a(n)}}else clearInterval(i)},d)}var L=["B","KB","MB","GB","TB"],G=1024,z=L.length;function M(t,e){for(var n="",r=t,o=0;o<z&&(n=L[o],G<=r);o++)r/=G;return{value:t,size:parseFloat(r.toFixed(e.fixed)),unit:n}}function X(e,n,r){var o="",t=e.$fetch||self.fetch,i=e.timeout,s={_request:e,body:e.getBody()},a=e.signal,u=clearTimeout;h.arrayEach("method,headers,signal,mode,cache,credentials,redirect,referrer,referrerPolicy,keepalive,integrity".split(","),function(t){e[t]&&(s[t]=e[t])}),i&&(o=setTimeout(function(){r("E_T")},i)),a&&a.aborted?r("E_A"):t(e.getUrl(),s).then(function(t){u(o),n(H.toResponse(t,e))}).catch(function(t){u(o),r()})}var K=h.IS_N?sendHttp:h.IS_F?function(t){return function(t){var e=t.signal;if(!t.progress){if(t.$fetch)return e?k:X;if(h.IS_F)return h.IS_FAC?X:e?k:X}return k}(t).apply(this,arguments)}:k,W=0,Q="undefined"==typeof window?"":window,V=Q?Q.document:"";function Y(t,e){var n=t.script,r=V.body;n.parentNode===r&&r.removeChild(n);try{delete Q[e]}catch(t){Q[e]=void 0}}var Z={E_A:"The user aborted a request.",E_T:"Request timeout.",E_F:"Network request failed."};function tt(t){var r=new D(h.assign({},d,{headers:h.assign({},d.headers)},t));return new(r.$Promise||Promise)(function(e,n){return R.requests(r).then(function(){(r.jsonp?function(e,n,t){var r=e.timeout,o=e.jsonpCallback,i=e.script=V.createElement("script");if(o||(o=e.jsonpCallback="jsonp_xe_"+Date.now()+"_"+ ++W),h.isFn(e.$jsonp))return e.$jsonp(i,e).then(function(t){n(H.toResponse({status:200,body:t},e))}).catch(function(){t()});var s=e.getUrl();Q[o]=function(t){Y(e,o),n({status:200,body:t})},i.type="text/javascript",i.src=s+(-1===s.indexOf("?")?"?":"&")+e.jsonp+"="+o,i.onerror=function(){Y(e,o),n()},r&&setTimeout(function(){Y(e,o),n("E_T")},r),V.body.appendChild(i)}:K)(r,function(t){R.toResolves(r,H.toResponse(t,r),e,n)},function(t){R.toRejects(r,new TypeError(Z[t||"E_F"]),e,n)})})},r.$context)}tt.version="3.4.9-beta.0",tt.interceptors=R.interceptors,tt.serialize=h.serialize,tt.Progress=b,tt.AbortController=S,tt.use=function(t){t.install(tt)},tt.setup=function(t){h.assign(d,t)};var et=h.clearContext;function nt(t,e,n){var r=h.assign({method:t,$context:tt.$context,$Promise:tt.$Promise},e,n);return et(tt),r}function rt(t){return function(){return tt(t.apply(this,arguments))}}function ot(t,e,n,r,o){return t?{data:e,status:n,statusText:r,headers:o}:e}function it(n,i){return function(){var t=n.apply(this,arguments),e=t.$Promise||Promise;return tt(t).catch(function(t){return e.reject(ot(i,"","failed",t.message||t,{}),this)}).then(function(o){return new e(function(t,e){var r=o.ok?t:e;o.text().then(function(e){try{return JSON.parse(e)}catch(t){return e}}).catch(function(t){return""}).then(function(t){var e,n;r(ot(i,t,o.status,o.statusText,(e=o,n={},h.headersEach(e.headers,function(t,e){n[e]=t}),n)))})},this)})}}function st(t){return it(t,!0)}function at(t){return it(t)}function ut(n){return function(t,e){return nt(n,{url:t},e)}}function ct(r,o){return function(t,e,n){return nt(r,h.assign({url:t,params:e},o),n)}}function ft(r){return function(t,e,n){return nt(r,{url:t,body:e},n)}}var dt=ut("HEAD"),lt=ut("DELETE"),ht=ct("GET",{jsonp:"callback"}),pt=ct("GET"),yt=ft("POST"),vt=ft("PUT"),gt=ft("PATCH"),mt={doAll:function(t){var e=tt.$Promise||Promise,n=tt.$context;return et(tt),e.all(t.map(function(t){return t instanceof e||t instanceof Promise?t:h.isObj(t)?tt(h.assign({$context:n,$Promise:e},t)):t}),n)},ajax:tt,fetch:rt(ut("GET")),fetchGet:rt(pt),fetchPost:rt(yt),fetchPut:rt(vt),fetchDelete:rt(lt),fetchPatch:rt(gt),fetchHead:rt(dt),fetchJsonp:rt(ht),doGet:st(pt),doPost:st(yt),doPut:st(vt),doDelete:st(lt),doPatch:st(gt),doHead:st(dt),doJsonp:st(ht),getJSON:at(pt),postJSON:at(yt),putJSON:at(vt),deleteJSON:at(lt),patchJSON:at(gt),headJSON:at(dt),jsonp:at(ht)};return tt.mixin=function(t){h.objectEach(t,function(e,t){tt[t]=h.isFn(e)?function(){var t=e.apply(tt.$context,arguments);return et(tt),t}:e})},tt.mixin(mt),tt});